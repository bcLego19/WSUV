<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Conner Batson - Color Changing Blobs</title>
    <script src="https://cdn.jsdelivr.net/npm/p5@1.9.0/lib/p5.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="./styles.css">
</head>
<body>
  <nav class="navbar">
        <a href="#" class="navbar-brand">Conner Batson 4-14-2025</a>
        <button class="navbar-toggler" id="navbarToggler">
            <i class="fa fa-bars"></i>
        </button>
        <div class="navbar-menu" id="navbarMenu">
            <a href="./index.html">Home</a>
            <a href="./p5js-conner-batson.html">P5js 1</a>
            <a href="./p5js-2-conner-batson.html">P5js 2</a>
            <a href="./p5js-3-conner-batson.html">P5js 3</a>
            <a href="./p5js-4-conner-batson.html">P5js 4</a>
            <a class="active" href="./p5js-5-conner-batson.html">P5js 5</a>
            <a href="./p5js-6-conner-batson.html">P5js 6</a>
            <a href="./p5js-7-conner-batson.html">P5js 7</a>
        </div>
    </nav>

  <script>
//  Navbar Code
const navbarToggler = document.getElementById('navbarToggler');
const navbarMenu = document.getElementById('navbarMenu');
console.log(navbarToggler);
console.log(navbarMenu);

navbarToggler.addEventListener('click', () => {
  console.log("clicked on navbarToggler");
    if (navbarMenu.style.display === 'none' || navbarMenu.style.display === '') {
        navbarMenu.style.display = 'block';
    } else {
        navbarMenu.style.display = 'none';
    }
});

// P5js code

let blobs = [];
let numBlobs = 50;
let driftSpeed = 0.5;
let colorChangeRate = 0.01; // Intended small increment

function setup() {
  createCanvas(600, 400);
  colorMode(HSB, 360, 100, 100, 100); // Use HSB with alpha

  for (let i = 0; i < numBlobs; i++) {
    blobs.push({
      x: random(width),
      y: random(height),
      radius: random(10, 30),
      hue: random(360),
      saturation: 80,
      brightness: 80,
      alpha: 80,
      xVelocity: random(-driftSpeed, driftSpeed),
      yVelocity: random(-driftSpeed, driftSpeed),
      // Intentional: A small hue increment based on a flawed idea
      hueIncrement: random(-colorChangeRate * 0.5, colorChangeRate * 0.5)
    });
  }
  noStroke();
}

function draw() {
  background(0);

  for (let blob of blobs) {
    // Update position
    blob.x += blob.xVelocity;
    blob.y += blob.yVelocity;

    // Bounce off edges
    if (blob.x < 0 || blob.x > width) blob.xVelocity *= -1;
    if (blob.y < 0 || blob.y > height) blob.yVelocity *= -1;

    // "Error": Accumulating hue change based on a flawed idea
    // Instead of a consistent small change, we're slightly modifying the *increment*
    blob.hueIncrement += random(-0.01, 0.01); // Small random change to the increment
    blob.hue = (blob.hue + blob.hueIncrement) % 360;

    fill(blob.hue, blob.saturation, blob.brightness, blob.alpha);
    ellipse(blob.x, blob.y, blob.radius * 2);
  }
}
  </script>
</body>
</html>