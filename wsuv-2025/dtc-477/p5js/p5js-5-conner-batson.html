<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Conner Batson - Drifting, Blooming Blobs</title>
  <script src="https://cdn.jsdelivr.net/npm/p5@1.9.0/lib/p5.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <style>
    body {
      margin: 0;
    }
    canvas {
      display: block;
      margin: 5% auto;
    }
    /* General Class Styles */
    .navbar {
        background-color: #333;
        overflow: hidden;
        position: relative;
        width: 100%;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .navbar a {
        color: white;
        padding: 14px 16px;
        text-decoration: none;
        font-size: 17px;
        display: block;
        text-align: center;
    }

    .navbar a:hover {
        background-color: #ddd;
        color: black;
    }

    .navbar-brand {
        float: left;
        color: white;
        text-align: center;
        padding: 14px 16px;
        text-decoration: none;
        font-size: 20px;
        font-weight: bold;
    }

    .navbar-toggler {
        display: block;
        background-color: transparent;
        border: none;
        color: white;
        padding: 10px;
        font-size: 16px;
        cursor: pointer;
        position: absolute;
        right: 0;
        top: 0;
    }

    .navbar-toggler:hover {
        background-color: #555;
    }

    .navbar-menu {
        display: none;
        flex-direction: column;
        background-color: #333;
        position: fixed;
        top: 50px;
        right: 0;
        left: 0;
        z-index: 1;
        overflow-y: auto;
        max-height: calc(100vh - 50px);
    }

    .navbar-menu a {
        padding: 14px 16px;
        text-align: center;
    }

    .navbar-menu a:hover {
        background-color: #555;
    }

    .main-content {
        padding: 20px;
        margin-top: 60px;
        text-align: left;
        width: 100%;
        box-sizing: border-box;
    }

    /* ID Styles */
    #refreshButton {
        margin-top: 20px;
        padding: 10px 20px;
        background-color: #4CAF50;
        color: white;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        font-size: 16px;
        transition: background-color 0.3s ease;
    }

    #refreshButton:hover {
        background-color: #367c39;
    }

    /* Media Queries */
    @media screen and (max-width: 600px) {
        .navbar a {
            display: none;
        }

        .navbar-menu {
            display: none;
            position: fixed;
        }

        .navbar-menu.active {
            display: flex;
            flex-direction: column;
        }
    }

    #refreshButton {
        margin-top: 20px;
        padding: 10px 20px;
        background-color: #4CAF50;
        color: white;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        font-size: 16px;
        transition: background-color 0.3s ease;
    }
    #refreshButton:hover {
        background-color: #367c39;
    }
  </style>
</head>
<body>
  <nav class="navbar">
        <a href="#" class="navbar-brand">Conner Batson 4-11-2025</a>
        <button class="navbar-toggler" id="navbarToggler">
            <i class="fa fa-bars"></i>
        </button>
        <div class="navbar-menu" id="navbarMenu">
            <a href="./index.html">Home</a>
            <a href="./p5js-conner-batson.html">P5js 1</a>
            <a href="./p5js-2-conner-batson.html">P5js 2</a>
            <a href="./p5js-3-conner-batson.html">P5js 3</a>
            <a href="./p5js-4-conner-batson.html">P5js 4</a>
            <a href="./p5js-5-conner-batson.html">P5js 5</a>
            <a href="./p5js-6-conner-batson.html">P5js 6</a>
            <a href="./p5js-7-conner-batson.html">P5js 7</a>
        </div>
    </nav>

  <script>
//  Navbar Code
const navbarToggler = document.getElementById('navbarToggler');
const navbarMenu = document.getElementById('navbarMenu');
console.log(navbarToggler);
console.log(navbarMenu);

navbarToggler.addEventListener('click', () => {
  console.log("clicked on navbarToggler");
    if (navbarMenu.style.display === 'none' || navbarMenu.style.display === '') {
        navbarMenu.style.display = 'block';
    } else {
        navbarMenu.style.display = 'none';
    }
});

// P5js code

let blobs = [];
let numBlobs = 50;
let driftSpeed = 0.5;
let colorChangeRate = 0.01; // Intended small increment

function setup() {
  createCanvas(600, 400);
  colorMode(HSB, 360, 100, 100, 100); // Use HSB with alpha

  for (let i = 0; i < numBlobs; i++) {
    blobs.push({
      x: random(width),
      y: random(height),
      radius: random(10, 30),
      hue: random(360),
      saturation: 80,
      brightness: 80,
      alpha: 80,
      xVelocity: random(-driftSpeed, driftSpeed),
      yVelocity: random(-driftSpeed, driftSpeed),
      // Intentional: A small hue increment based on a flawed idea
      hueIncrement: random(-colorChangeRate * 0.5, colorChangeRate * 0.5)
    });
  }
  noStroke();
}

function draw() {
  background(0);

  for (let blob of blobs) {
    // Update position
    blob.x += blob.xVelocity;
    blob.y += blob.yVelocity;

    // Bounce off edges
    if (blob.x < 0 || blob.x > width) blob.xVelocity *= -1;
    if (blob.y < 0 || blob.y > height) blob.yVelocity *= -1;

    // "Error": Accumulating hue change based on a flawed idea
    // Instead of a consistent small change, we're slightly modifying the *increment*
    blob.hueIncrement += random(-0.01, 0.01); // Small random change to the increment
    blob.hue = (blob.hue + blob.hueIncrement) % 360;

    fill(blob.hue, blob.saturation, blob.brightness, blob.alpha);
    ellipse(blob.x, blob.y, blob.radius * 2);
  }
}
  </script>
</body>
</html>