<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Conner Batson - Random Colored Lines</title>
    <script src="https://cdn.jsdelivr.net/npm/p5@1.9.0/lib/p5.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="./styles.css">
</head>
<body>
    <nav class="navbar">
        <a href="#" class="navbar-brand">Conner Batson 4-14-2025</a>
        <button class="navbar-toggler" id="navbarToggler">
            <i class="fa fa-bars"></i>
        </button>
        <div class="navbar-menu" id="navbarMenu">
            <a href="./index.html">Home</a>
            <a href="./p5js-conner-batson.html">P5js 1</a>
            <a href="./p5js-2-conner-batson.html">P5js 2</a>
            <a href="./p5js-3-conner-batson.html">P5js 3</a>
            <a href="./p5js-4-conner-batson.html">P5js 4</a>
            <a href="./p5js-5-conner-batson.html">P5js 5</a>
            <a class="active" href="./p5js-6-conner-batson.html">P5js 6</a>
            <a href="./p5js-7-conner-batson.html">P5js 7</a>
        </div>
    </nav>

    <button id="refreshButton">Refresh</button>
    <script>
        //  Navbar Code
        const navbarToggler = document.getElementById('navbarToggler');
        const navbarMenu = document.getElementById('navbarMenu');
        console.log(navbarToggler);
        console.log(navbarMenu);

        navbarToggler.addEventListener('click', () => {
          console.log("clicked on navbarToggler");
            if (navbarMenu.style.display === 'none' || navbarMenu.style.display === '') {
                navbarMenu.style.display = 'block';
            } else {
                navbarMenu.style.display = 'none';
            }
        });
        
        let numLines = 100;
        let minLength = 10;
        let maxLength = 50;
        let lineWeight;
        let lineOpacity = 80;
        let lines = [];
        let canvasElement;

        function setup() {
            canvasElement = createCanvas(window.innerWidth, window.innerHeight);
            colorMode(RGB, 255);
            generateLines();
            let button = document.getElementById('refreshButton');
            button.addEventListener('click', generateLines);
        }

        function generateLines() {
            lines = [];
            for (let i = 0; i < numLines; i++) {
                let startX = random(width);
                let startY = random(height);
                let length = random(minLength, maxLength);
                let angle = random(TWO_PI);

                let endX = startX + cos(angle) * length;
                let endY = startY + sin(angle) * length;

                lineWeight = random(1, 5);
                lines.push({
                    startX: startX,
                    startY: startY,
                    endX: endX,
                    endY: endY,
                    color: color(random(255), random(255), random(255), lineOpacity),
                    weight: lineWeight
                });
            }
            redraw(); // Force a redraw to update the canvas immediately
        }

        function draw() {
            background(240);
            for (let i = 0; i < lines.length; i++) {
                let lineData = lines[i];
                stroke(lineData.color);
                strokeWeight(lineData.weight);
                line(lineData.startX, lineData.startY, lineData.endX, lineData.endY);
            }
        }

        function windowResized() {
            resizeCanvas(window.innerWidth, window.innerHeight);
            generateLines();
        }
    </script>
</body>
</html>